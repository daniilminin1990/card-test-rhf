import{j as p}from"./jsx-runtime-CexXSJP5.js";import{r as o}from"./index-BP8_t0zE.js";import{$ as D,_ as m}from"./index-BxZYxvCr.js";import{a as I,b as M,d as v,e as _}from"./index-DJ4wlX1H.js";import{$ as S}from"./index-CF1bRcOk.js";import{$ as N}from"./index-BSDh6yLp.js";import{$ as j}from"./index-Dpkz7dOd.js";const w="Checkbox",[q,Z]=I(w),[B,O]=q(w),A=o.forwardRef((e,d)=>{const{__scopeCheckbox:t,name:c,checked:l,defaultChecked:a,required:f,disabled:r,value:i="on",onCheckedChange:h,...E}=e,[s,x]=o.useState(null),P=D(d,n=>x(n)),k=o.useRef(!1),y=s?!!s.closest("form"):!0,[$=!1,C]=M({prop:l,defaultProp:a,onChange:h}),g=o.useRef($);return o.useEffect(()=>{const n=s==null?void 0:s.form;if(n){const u=()=>C(g.current);return n.addEventListener("reset",u),()=>n.removeEventListener("reset",u)}},[s,C]),o.createElement(B,{scope:t,state:$,disabled:r},o.createElement(v.button,m({type:"button",role:"checkbox","aria-checked":b($)?"mixed":$,"aria-required":f,"data-state":R($),"data-disabled":r?"":void 0,disabled:r,value:i},E,{ref:P,onKeyDown:_(e.onKeyDown,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:_(e.onClick,n=>{C(u=>b(u)?!0:!u),y&&(k.current=n.isPropagationStopped(),k.current||n.stopPropagation())})})),y&&o.createElement(L,{control:s,bubbles:!k.current,name:c,value:i,checked:$,required:f,disabled:r,style:{transform:"translateX(-100%)"}}))}),F="CheckboxIndicator",K=o.forwardRef((e,d)=>{const{__scopeCheckbox:t,forceMount:c,...l}=e,a=O(F,t);return o.createElement(j,{present:c||b(a.state)||a.state===!0},o.createElement(v.span,m({"data-state":R(a.state),"data-disabled":a.disabled?"":void 0},l,{ref:d,style:{pointerEvents:"none",...e.style}})))}),L=e=>{const{control:d,checked:t,bubbles:c=!0,...l}=e,a=o.useRef(null),f=S(t),r=N(d);return o.useEffect(()=>{const i=a.current,h=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(h,"checked").set;if(f!==t&&s){const x=new Event("click",{bubbles:c});i.indeterminate=b(t),s.call(i,b(t)?!1:t),i.dispatchEvent(x)}},[f,t,c]),o.createElement("input",m({type:"checkbox","aria-hidden":!0,defaultChecked:b(t)?!1:t},l,{tabIndex:-1,ref:a,style:{...e.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function b(e){return e==="indeterminate"}function R(e){return b(e)?"indeterminate":e?"checked":"unchecked"}const H=A,T=K,X=o.forwardRef((e,d)=>o.createElement(v.label,m({},e,{ref:d,onMouseDown:t=>{var c;(c=e.onMouseDown)===null||c===void 0||c.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),z=o.forwardRef((e,d)=>{const{id:t,isDisabled:c,label:l,onCheckedChange:a,...f}=e,r=c?"disabled":"",i=t;return p.jsx("div",{className:`checkboxContainer ${r}`,children:p.jsxs(H,{...f,className:`CheckboxRoot ${r}`,disabled:c,id:i,onCheckedChange:a,ref:d,children:[p.jsx(T,{className:`checkboxFrame ${r}`,forceMount:!0}),p.jsx(X,{className:`label ${r}`,htmlFor:i,children:l})]})})});z.__docgenInfo={description:"",methods:[],displayName:"StyledCheckbox"};export{z as S};
